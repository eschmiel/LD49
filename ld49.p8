pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
function _init()
	
	option1 = create_text_option(
	"an oyster's\npearl is the\n finest of\n  dreams",
	{"thesea", "dreams"}, 1)
	
	option2 = create_text_option(
	"when i close\nmy eyes, all \n i see is\n 'bazinga'",
	{"nightmares"}, 2)
	
	option3 = create_text_option("i hope this\nis the right\nthing to say", {'hope'}, 3)
	option4 = create_text_option("land ho!\ni can't wait\n to buy a\n   house", {'theland'}, 4)

	selected = 1

	dialogue_options = {option1, option2, option3, option4}
	
	cosmic_force = generate_cosmic_force()
	
	game_win = false
	game_lose = false
	current_turn = 1

	aggressive_prompts = get_aggressive_prompts()
	content_prompts = get_content_prompts()

	musing = true
	--music(1, 0, 8)
end

function _update()
	
	if not game_win and not game_lose  then
		update_game('test_prompt_format')
		--update_game(game.state)
		check_game_lose(cosmic_force.engagement)
		check_game_win(current_turn)
	end
end

function _draw()
 cls(0)

 
--draw_game(game.state)
 draw_game('test_prompt_format')
 if(game_lose) print('You lose', 50, 50, 7)
 if(game_win) print('YOU WIN?!?', 50, 50, 7)
 col = 7
 
end

function check_game_win(turn)
	victory_turn = 10
	if(turn == victory_turn) game_win = true
end

function check_game_lose(engagement)
	lose_condition = 10
	if(abs(engagement) >= lose_condition) game_lose = true
end

-->8
--textoption
#include atmosphere.lua
#include commune_state.lua
#include controls.lua
#include cosmic_force.lua
#include cosmic_force_prompts.lua
#include draw_game.lua
#include text_box.lua
#include game_animation_orchestrator.lua
#include game_state.lua
#include observe_state.lua
#include text_handling.lua
#include text_option.lua 
#include topics.lua
#include update_game.lua

#include debug_controls.lua


__gfx__
00000000000000000000000000000000000000000000000022200000000000002002002020c020c020c020c00000000000000000000000000000000000000000
00000000000000000000000000000000000000000000002200000000000000002e2e2e200c0c0c0c0c0c0c000000000000000000000000000000000000000000
007007000000000022200000000000000000000000002200000000000000000002e2e20000200020002000200000000000000000000000000000000000000000
00077000000000220000000000000000000000000002000000000000000000000022200000000000000000000000000000000000000000000000000000000000
0007700000002200000000000000000000000000002000000000000000000000000000002e02020202020e200000000000000000000000000000000000000000
0070070000020000000000000000000000000000020000000000000000200200000000002e2e2e2e2e2e2e200000000000000000000000000000000000000000
0000000000200000000000000000000000000000020002020002000000200200000000000222e2e2e2e222000000000000000000000000000000000000000000
000000000200000000000000002002000000000020002e2e2002000202e020000000000000002222222000000000000000000000000000000000000000000000
00000000020002020002002000200200000000002002e2e2002e00202e0200000000000011111111111111110000000000000000000000000000000000000000
00000000200020202002000202002000000000000222200002e02222022000000000000000000000000000000000000000000000000000000000000000000000
00000000200202020020002020020000000000000000022220220000000000000000000000000000000000000000000000000000000000000000000000000000
00000000022220000200222202200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000002222022000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000200200000000002200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000200200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000002002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000020020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000002202200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
001100000075000750007500075000750007500075000750007500075000050000500075001750027500075000750007500075000750007500075000750007500205001050007500075000750007500075000750
__music__
01 00000000
02 00000000

